<svelte:head>
<title>
		Post Sites CSV
</title>
</svelte:head>

<UploadComponent id="site-upload" on:success="handleSuccess(event)" dropzoneopts={siteUploadData} ></UploadComponent>
<UploadComponent id="channel-upload" on:success="handleSuccess(event)" dropzoneopts={channelsUploadData} ></UploadComponent>

<script>
	import UploadComponent from '../components/fileUploadComponent.html';

	export default {
		data() {
			return {
				siteUploadData : {
					fileHandler:"/api/imports",
					typeOfFiles:".csv",
					maxFiles: 1
				},
				channelsUploadData : {
					fileHandler:"/api/imports",
					typeOfFiles:".csv",
					maxFiles: 1
				}
			}
		},
		components: {
			UploadComponent
		},
		methods: {
		    handleSuccess(event){
					if(event.id == "site-upload"){
						console.log("calling site upload API")
						console.log(event.response)
					} else if(event.id == "channel-upload"){
						console.log("calling channels upload API")
					}
		    }
		  },
	}
</script>
<style>

</style>
